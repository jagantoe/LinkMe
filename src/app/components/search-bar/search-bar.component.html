<div class="mb-4 sm:mb-6 w-full relative z-10">
    <div class="relative w-full">
        <div class="p-inputgroup relative">
            <input type="text" #searchInput autofocus pInputText
                class="w-full py-2.5 sm:py-3 px-3 sm:px-4 pr-10 border border-surface-200 dark:border-surface-700 rounded-lg text-surface-900 dark:text-surface-100 bg-surface-0 dark:bg-surface-700 text-base transition-all focus:outline-none focus:border-primary focus:ring focus:ring-primary/50"
                [placeholder]="'search.placeholder' | transloco" [value]="searchTerm()" (input)="updateSearch($event)"
                appClearOnEscape appKeyboardFocus>

            <div class="absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2">
                @if (searchTerm()) {
                    <div (click)="clearSearch()"
                        class="cursor-pointer inline-flex items-center justify-center py-1 px-2 rounded-md bg-contrast text-color-contrast text-xs font-mono shadow-sm">
                        {{ 'common.clear' | transloco }}
                    </div>
                } @else {
                    <div
                        class="cursor-pointer inline-flex items-center justify-center py-1 px-2 rounded-md bg-contrast text-color-contrast text-xs font-mono shadow-sm">
                        {{ 'search.shortcut' | transloco }}
                    </div>
                }
            </div>
        </div>

        @if (searchHistory().length > 0) {
            <div class="mt-2 flex flex-wrap gap-2">
                @for (term of searchHistory(); track term) {
                    <div class="cursor-pointer flex items-center rounded-full py-1.5 px-3 text-sm font-mono shadow hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 ease-in-out bg-emphasis text-primary-emphasis"
                        (click)="selectHistoryItem(term)">
                        <i class="pi pi-history text-xs mr-1"></i>
                        <span class="text-sm">{{ term }}</span>
                    </div>
                }
            </div>
        }
    </div>
</div>
